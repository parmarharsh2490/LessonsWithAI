<p-dialog
  header="Assistant Details"
  [(visible)]="visible"
  (onHide)="handleHide()"
  [modal]="true"
  [style]="{ width: '80vw', maxWidth: '40rem' }"
  [draggable]="false"
  [resizable]="false"
>
  <div>
    <p-tabs (valueChange)="onTabChange($event)" value="Overview">
      <p-tablist>
        @for (tab of tabs; track $index) {
          <p-tab
            [value]="tab.label"
            class="flex items-center !gap-2 text-inherit"
          >
            <i [class]="tab.icon"></i>
            <span>{{ tab.label }}</span>
          </p-tab>
        }
      </p-tablist>
      <p-tabpanels>
        <p-tabpanel value="Overview">
          <app-assistant-overview
            #assistantOverview
            [assistant]="assistant()"
            (onAssistantChange)="onAssistantChange($event)"
          ></app-assistant-overview>
        </p-tabpanel>
        <p-tabpanel value="Knowledge Base">
          <div #loadAssistantKnowledgeBase></div>
        </p-tabpanel>
      </p-tabpanels>
    </p-tabs>
    <div
      class="w-full flex flex-col sm:flex-row justify-end gap-2 sm:gap-0 p-tabpanels mt-4"
    >
      <p-button
        (onClick)="saveAssistant()"
        [disabled]="loading()"
        [label]="loading() ? 'Saving...' : 'Submit'"
        class="w-full sm:w-auto"
      />
    </div>
  </div>
</p-dialog>
